<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fulfillment App V2 - Intention-Driven UI</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .phone-frame {
            max-width: 390px;
            margin: 20px auto;
            background: white;
            border-radius: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
            height: 844px;
        }
        .status-bar {
            height: 44px;
            background: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 20px;
            font-size: 14px;
        }
        .screen {
            height: 800px;
            overflow-y: auto;
            background: #FAFBFC;
        }
        .impact-badge {
            display: inline-flex;
            align-items: center;
            gap: 4px;
            background: #E8F5E9;
            color: #2E7D32;
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 700;
        }
        .impact-badge.negative {
            background: #FFEBEE;
            color: #C62828;
        }
        .connection-line {
            position: relative;
            padding-left: 24px;
            border-left: 3px solid #007AFF;
            margin-left: 12px;
        }
        .connection-line::before {
            content: '‚Üí';
            position: absolute;
            left: -10px;
            color: #007AFF;
            font-size: 18px;
        }
        .formula-box {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 16px;
            text-align: center;
        }
        .flow-arrow {
            text-align: center;
            font-size: 24px;
            color: #007AFF;
            margin: 8px 0;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }
        .pulsing {
            animation: pulse 2s ease-in-out infinite;
        }
    </style>
</head>
<body>
    <div class="phone-frame">
        <!-- Status Bar -->
        <div class="status-bar">
            <span>9:41</span>
            <span>‚ö°üì∂</span>
        </div>

        <!-- Screen Content -->
        <div class="screen" id="screen">
            <!-- Screens will be rendered here -->
        </div>
    </div>

    <script>
        let currentScreen = 'home-v2';
        let currentWeek = 2; // Default to Week 2 (optimization phase)
        let intention = {
            text: "Show up with more presence for my family",
            microMoves: [
                { name: "10-min morning walk", completed: 5, target: 7, impact: 12, dimension: 'Mind' },
                { name: "Read 2 chapters", completed: 3, target: 7, impact: 6, dimension: 'Mind' },
                { name: "Call friend", completed: 1, target: 7, impact: 10, dimension: 'Soul' }
            ],
            antiGlitter: "No phone first hour after waking",
            weeklyProgress: {
                week1: { fulfillment: 58, grade: 'C+', meaningfulDays: 3 },
                week2: { fulfillment: 71, grade: 'B', meaningfulDays: 5 },
                week3: { fulfillment: 78, grade: 'B+', meaningfulDays: 6 },
                week4: { fulfillment: 82, grade: 'A-', meaningfulDays: 6 }
            }
        };

        let todayScores = {
            body: 70,
            mind: 82,
            soul: 69,
            purpose: 68,
            fulfillment: 72
        };

        let checkIns = [
            { time: '7:30 AM', dayPart: 'Morning', mood: 'good', microAct: 'Walk', impacts: ['+12 Mind', '+5 Body'], reflection: 'Your walk gave you mental clarity - this is your #1 micro-move!' },
            { time: '8:00 AM', dayPart: 'Morning', mood: 'good', microAct: 'No-phone', impacts: ['+6 Mind'], reflection: 'No-phone morning amplified your walk effect!' },
            { time: '1:00 PM', dayPart: 'Day', mood: 'good', microAct: 'Meditation', impacts: ['+8 Mind'], reflection: 'Meditation added to your clarity.' },
            { time: '6:00 PM', dayPart: 'Evening', mood: 'good', microAct: 'Reading', impacts: ['+6 Mind', '+4 Soul'], reflection: 'Reading (micro-move #2!) deepened your presence.' }
        ];

        // HOME SCREEN V2 - INTENTION-CENTERED
        const HomeScreenV2 = () => `
            <div class="p-4">
                <!-- Header with Settings -->
                <div class="flex justify-between items-start mb-6">
                    <div>
                        <h1 class="text-2xl font-bold text-gray-900">How's your day unfolding?</h1>
                        <p class="text-gray-600 text-sm">Living your intention, one moment at a time</p>
                    </div>
                    <button class="w-11 h-11 bg-gray-100 rounded-full flex items-center justify-center text-xl">‚öôÔ∏è</button>
                </div>

                <!-- Intention Banner (Always Visible!) -->
                <div class="bg-gradient-to-r from-purple-500 to-purple-700 rounded-2xl p-4 mb-4 text-white">
                    <div class="flex items-center gap-2 mb-2">
                        <span class="text-2xl">üéØ</span>
                        <span class="text-xs font-semibold uppercase tracking-wide opacity-90">Your Intention</span>
                    </div>
                    <p class="text-lg font-semibold italic mb-3">"${intention.text}"</p>
                    
                    <div class="bg-white/20 rounded-xl p-3">
                        <p class="text-xs font-semibold mb-2 opacity-90">TODAY'S PROGRESS:</p>
                        ${intention.microMoves.map((move, i) => `
                            <div class="flex items-center justify-between mb-1">
                                <div class="flex items-center gap-2">
                                    <span>${i < 2 ? '‚úÖ' : '‚òê'}</span>
                                    <span class="text-sm">${move.name}</span>
                                </div>
                                <span class="text-xs font-bold ${i < 2 ? 'text-green-300' : 'text-yellow-300'}">
                                    ${i < 2 ? `+${move.impact} ${move.dimension}` : `Would add +${move.impact}`}
                                </span>
                            </div>
                        `).join('')}
                        <div class="mt-2 pt-2 border-t border-white/30">
                            <div class="flex justify-between items-center">
                                <span class="text-sm font-semibold">Status:</span>
                                <span class="text-sm">2/3 ‚Üí Partly there (add call!)</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Check-in Chips with Impact Preview -->
                <div class="grid grid-cols-4 gap-2 mb-4">
                    ${['Morning ‚úì', 'Day ‚úì', 'Evening ‚úì', 'Night'].map((part, i) => `
                        <div class="bg-${i < 3 ? 'green' : 'gray'}-${i < 3 ? '100' : '100'} border-2 border-${i < 3 ? 'green' : 'gray'}-${i < 3 ? '400' : '300'} rounded-xl p-3 text-center">
                            <div class="text-xs font-semibold ${i < 3 ? 'text-green-700' : 'text-gray-500'}">${part}</div>
                            ${i < 3 ? `<div class="text-xs text-green-600 mt-1">+${i === 0 ? '17' : i === 1 ? '8' : '10'}</div>` : ''}
                        </div>
                    `).join('')}
                </div>

                <!-- Today's Impact Chain -->
                <div class="bg-white rounded-2xl p-4 mb-4 shadow-sm">
                    <h3 class="font-bold text-gray-900 mb-3">üìä Today's Impact Chain</h3>
                    
                    <div class="space-y-3">
                        ${checkIns.map((ci, idx) => `
                            <div class="bg-blue-50 rounded-xl p-3 border-l-4 border-blue-500">
                                <div class="flex justify-between items-start mb-2">
                                    <span class="text-sm font-semibold text-gray-700">${ci.time} ‚Ä¢ ${ci.dayPart}</span>
                                    <span class="text-xs bg-blue-200 text-blue-800 px-2 py-1 rounded-full">${ci.mood}</span>
                                </div>
                                
                                ${ci.microAct ? `
                                    <div class="bg-white rounded-lg p-2 mb-2">
                                        <div class="flex items-center gap-2 mb-1">
                                            <span class="text-lg">${ci.microAct === 'Walk' ? 'üö∂' : ci.microAct === 'No-phone' ? 'üìµ' : ci.microAct === 'Reading' ? 'üìñ' : 'üßò'}</span>
                                            <span class="text-sm font-bold text-gray-800">${ci.microAct}</span>
                                            ${ci.microAct === 'Walk' || ci.microAct === 'Reading' ? '<span class="text-xs bg-purple-100 text-purple-700 px-2 py-0.5 rounded-full">Micro-Move!</span>' : ''}
                                        </div>
                                        <div class="flex gap-2 flex-wrap">
                                            ${ci.impacts.map(imp => `
                                                <span class="text-xs font-bold text-green-600">${imp} ‚¨ÜÔ∏è</span>
                                            `).join('')}
                                        </div>
                                    </div>
                                ` : ''}
                                
                                <div class="text-xs text-gray-600 italic">
                                    üí° ${ci.reflection}
                                </div>
                            </div>
                        `).join('')}
                    </div>

                    <div class="mt-4 pt-4 border-t border-gray-200">
                        <div class="bg-gradient-to-r from-green-50 to-blue-50 rounded-lg p-3">
                            <div class="text-sm font-semibold text-gray-700 mb-2">Total Boosts Today:</div>
                            <div class="flex gap-3 text-xs">
                                <span class="font-bold text-green-600">+32 Mind üß†</span>
                                <span class="font-bold text-green-600">+5 Body üí™</span>
                                <span class="font-bold text-green-600">+4 Soul ‚ù§Ô∏è</span>
                            </div>
                            <div class="text-xs text-gray-600 mt-2">
                                ‚Üí This is how micro-moves build presence!
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Your Fulfillment Today (with Context) -->
                <div class="bg-white rounded-2xl p-4 mb-4 shadow-sm">
                    <h3 class="font-bold text-gray-900 mb-3">Your Fulfillment Today</h3>
                    <div class="text-center mb-3">
                        <div class="text-5xl font-black text-blue-600">${todayScores.fulfillment}</div>
                        <div class="text-sm text-gray-600">Meaningful Day ‚ú®</div>
                    </div>
                    
                    <div class="space-y-2">
                        ${['Body', 'Mind', 'Soul', 'Purpose'].map((dim, i) => {
                            const score = [todayScores.body, todayScores.mind, todayScores.soul, todayScores.purpose][i];
                            const boost = ['+5', '+32', '+4', '+8'][i];
                            return `
                                <div>
                                    <div class="flex justify-between items-center mb-1">
                                        <span class="text-sm font-semibold">${dim}</span>
                                        <div class="flex items-center gap-2">
                                            <span class="text-green-600 text-xs font-bold">${boost} ‚¨ÜÔ∏è</span>
                                            <span class="text-sm font-bold text-blue-600">${score}</span>
                                        </div>
                                    </div>
                                    <div class="w-full bg-gray-200 rounded-full h-2">
                                        <div class="bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full" style="width: ${score}%"></div>
                                    </div>
                                </div>
                            `;
                        }).join('')}
                    </div>

                    <div class="mt-4 p-3 bg-purple-50 rounded-xl">
                        <div class="text-xs font-semibold text-purple-900 mb-1">üí° Why your Mind is 82:</div>
                        <div class="text-xs text-purple-700">
                            Walk (+12) + No-phone (+6) + Meditation (+8) + Reading (+6) = +32 total!
                        </div>
                    </div>
                </div>

                <!-- Active Insights (Connected to Intention) -->
                <div class="bg-white rounded-2xl p-4 mb-4 shadow-sm">
                    <h3 class="font-bold text-gray-900 mb-3">üí° Insights Helping Your Intention</h3>
                    
                    <div class="bg-yellow-50 rounded-xl p-3 mb-3 border-l-4 border-yellow-400">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-xs font-bold text-yellow-800">‚ö° SAME-DAY ‚Ä¢ ACTIVE NOW</span>
                            <span class="text-xs bg-green-500 text-white px-2 py-0.5 rounded-full">‚úì You did this!</span>
                        </div>
                        <div class="font-bold text-gray-900 mb-2">Morning walks ‚Üí Mental clarity</div>
                        <div class="text-sm text-gray-700 mb-2">+12 Mind every time you walk</div>
                        <div class="bg-purple-100 rounded-lg p-2 text-xs">
                            <div class="font-semibold text-purple-900 mb-1">üéØ Supports Your Intention:</div>
                            <div class="text-purple-700">
                                Walk ‚Üí Clear mind ‚Üí Present with family (not foggy/distracted)
                            </div>
                        </div>
                    </div>

                    <div class="bg-purple-50 rounded-xl p-3 border-l-4 border-purple-400">
                        <div class="flex items-center justify-between mb-2">
                            <span class="text-xs font-bold text-purple-800">üîÆ PURPOSE-PATH ‚Ä¢ HIGH</span>
                            <span class="text-xs bg-yellow-500 text-white px-2 py-0.5 rounded-full pulsing">‚è≥ 1 more to activate!</span>
                        </div>
                        <div class="font-bold text-gray-900 mb-2">2+ micro-moves ‚Üí Purpose momentum</div>
                        <div class="text-sm text-gray-700 mb-2">+15 Purpose when you complete 2+</div>
                        <div class="bg-purple-200 rounded-lg p-2 text-xs">
                            <div class="font-semibold text-purple-900 mb-1">üéØ THE KEY INSIGHT:</div>
                            <div class="text-purple-900">
                                Your intention ("presence") isn't abstract - it's completing 2+ of these daily actions!
                            </div>
                            <div class="mt-2 font-bold text-purple-900">
                                Today: 2/3 done ‚Üí Call friend to activate! üìû
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Your Formula (if Week 2+) -->
                ${currentWeek >= 2 ? `
                    <div class="formula-box mb-4 mx-4">
                        <div class="text-xs font-bold uppercase tracking-wide mb-2 opacity-90">üß¨ Your Proven Formula</div>
                        <div class="text-base font-bold mb-3">Walk + No-phone = Presence</div>
                        <div class="bg-white/20 rounded-lg p-3 text-left">
                            <div class="text-sm mb-2">When you do this combo:</div>
                            <div class="text-2xl font-black">78 avg fulfillment</div>
                            <div class="text-xs opacity-90 mt-1">vs 58 without it</div>
                        </div>
                        <div class="text-xs mt-3 opacity-90">
                            Tested ${currentWeek * 7} days ‚Ä¢ ${Math.floor(intention.microMoves[0].completed / 7 * 100)}% success rate
                        </div>
                    </div>
                ` : ''}

                <!-- Quick Actions -->
                <div class="space-y-3 px-4">
                    <button onclick="navigateTo('journal-v2')" class="w-full bg-blue-50 border-2 border-blue-300 rounded-2xl p-4 flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <span class="text-2xl">üìî</span>
                            <div class="text-left">
                                <div class="font-bold text-gray-900">View Today's Story</div>
                                <div class="text-xs text-gray-600">Timeline + Impact chains</div>
                            </div>
                        </div>
                        <span class="text-gray-400">‚Üí</span>
                    </button>

                    <button onclick="navigateTo('intention-dashboard')" class="w-full bg-purple-50 border-2 border-purple-300 rounded-2xl p-4 flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <span class="text-2xl">üéØ</span>
                            <div class="text-left">
                                <div class="font-bold text-gray-900">Intention Dashboard</div>
                                <div class="text-xs text-gray-600">4-week progress + formula</div>
                            </div>
                        </div>
                        <span class="text-gray-400">‚Üí</span>
                    </button>

                    <button onclick="navigateTo('insights-v2')" class="w-full bg-yellow-50 border-2 border-yellow-300 rounded-2xl p-4 flex items-center justify-between">
                        <div class="flex items-center gap-3">
                            <span class="text-2xl">üí°</span>
                            <div class="text-left">
                                <div class="font-bold text-gray-900">Insights Library</div>
                                <div class="text-xs text-gray-600">Patterns supporting your intention</div>
                            </div>
                        </div>
                        <span class="text-gray-400">‚Üí</span>
                    </button>
                </div>
            </div>
        `;

        // JOURNAL V2 - TIMELINE WITH IMPACT CHAINS
        const JournalV2 = () => `
            <div class="p-4">
                <div class="flex justify-between items-center mb-6">
                    <button onclick="navigateTo('home-v2')" class="text-blue-600 font-semibold">‚Üê Back</button>
                    <h2 class="font-bold text-gray-900">Today's Story</h2>
                    <div class="w-16"></div>
                </div>

                <!-- Intention Context -->
                <div class="bg-purple-100 rounded-xl p-3 mb-4">
                    <div class="text-xs font-semibold text-purple-900 mb-1">üéØ YOUR INTENTION TODAY:</div>
                    <div class="text-sm text-purple-800 italic">"${intention.text}"</div>
                    <div class="mt-2 text-xs text-purple-700">
                        Progress: 2/3 micro-moves ‚úÖ (Walk, Reading done)
                    </div>
                </div>

                <!-- Timeline View -->
                <div class="bg-white rounded-2xl p-4 mb-4">
                    <h3 class="font-bold text-gray-900 mb-4">Your Day's Journey to Presence</h3>
                    
                    ${checkIns.map((ci, idx) => `
                        <div class="relative pl-6 pb-6 ${idx < checkIns.length - 1 ? 'border-l-2 border-blue-300' : ''}">
                            <div class="absolute left-0 top-0 w-4 h-4 bg-blue-500 rounded-full -ml-2"></div>
                            
                            <div class="text-xs text-gray-500 mb-1">${ci.time}</div>
                            <div class="font-semibold text-gray-900 mb-2">${ci.dayPart} Check-in</div>
                            
                            ${ci.microAct ? `
                                <div class="bg-green-50 rounded-lg p-3 mb-2 border border-green-200">
                                    <div class="flex items-center gap-2 mb-2">
                                        <span class="text-xl">${ci.microAct === 'Walk' ? 'üö∂' : ci.microAct === 'Reading' ? 'üìñ' : ci.microAct === 'Meditation' ? 'üßò' : 'üìµ'}</span>
                                        <span class="font-bold text-gray-900">${ci.microAct}</span>
                                        ${ci.microAct === 'Walk' || ci.microAct === 'Reading' ? '<span class="text-xs bg-purple-500 text-white px-2 py-0.5 rounded-full">YOUR MICRO-MOVE!</span>' : ''}
                                    </div>
                                    
                                    <div class="text-xs font-semibold text-gray-700 mb-1">Impact Chain:</div>
                                    <div class="bg-white rounded p-2 text-xs">
                                        ${ci.impacts.map(imp => `<div class="font-bold text-green-600">${imp} ‚¨ÜÔ∏è</div>`).join('')}
                                        ${ci.microAct === 'Walk' ? `
                                            <div class="mt-1 pt-1 border-t border-gray-200">
                                                <div class="text-purple-700 font-semibold">‚Üí Mental clarity</div>
                                                <div class="text-purple-700 font-semibold">‚Üí PRESENCE achieved</div>
                                            </div>
                                        ` : ''}
                                    </div>
                                    
                                    <div class="mt-2 text-xs italic text-gray-600">
                                        üí≠ ${ci.reflection}
                                    </div>
                                </div>
                            ` : ''}
                        </div>
                    `).join('')}

                    <!-- Missing Opportunity -->
                    <div class="relative pl-6">
                        <div class="absolute left-0 top-0 w-4 h-4 bg-orange-400 rounded-full -ml-2"></div>
                        <div class="text-xs text-gray-500 mb-1">9:00 PM</div>
                        <div class="font-semibold text-gray-900 mb-2">Night Check-in</div>
                        
                        <div class="bg-orange-50 rounded-lg p-3 border border-orange-200">
                            <div class="flex items-center gap-2 mb-2">
                                <span class="text-xl">‚ö†Ô∏è</span>
                                <span class="font-bold text-gray-900">Missed Opportunity</span>
                            </div>
                            <div class="text-sm text-gray-700 mb-2">‚òê Call friend (Micro-move #3)</div>
                            <div class="bg-white rounded p-2 mb-2">
                                <div class="text-xs font-semibold text-gray-700 mb-1">Would've added:</div>
                                <div class="font-bold text-orange-600 text-xs">+10 Soul ‚¨ÜÔ∏è</div>
                                <div class="text-xs text-gray-600 mt-1">
                                    ‚Üí Connection<br/>
                                    ‚Üí Deeper presence
                                </div>
                            </div>
                            <div class="text-xs text-gray-600 italic">
                                üí≠ Tomorrow: Try calling in the evening. Social connection completes your presence formula.
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Today's Formula -->
                <div class="bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl p-4 mb-4 text-white">
                    <div class="text-sm font-bold mb-3">TODAY'S PRESENCE FORMULA:</div>
                    <div class="bg-white/20 rounded-xl p-3">
                        <div class="text-center mb-2">
                            <div class="text-lg font-bold">Walk + Reading</div>
                            <div class="text-2xl my-2">‚Üì</div>
                            <div class="text-sm">+32 Mind + +4 Soul</div>
                            <div class="text-2xl my-2">‚Üì</div>
                            <div class="text-base font-bold">72/100 Presence</div>
                        </div>
                        <div class="border-t border-white/30 pt-2 mt-2">
                            <div class="text-xs text-center">
                                Missing: Call (+10 Soul) = Would be 79/100
                            </div>
                        </div>
                    </div>
                </div>

                <!-- AI Guidance for Tomorrow -->
                <div class="bg-white rounded-2xl p-4 mb-20">
                    <h3 class="font-bold text-gray-900 mb-3">ü§ñ AI Guidance for Tomorrow</h3>
                    
                    <div class="space-y-2 text-sm text-gray-700">
                        <div class="flex items-start gap-2">
                            <span class="text-green-600 font-bold">‚úÖ</span>
                            <div>
                                <span class="font-semibold">Keep doing:</span> Morning walk + no-phone (this combo = +18!)
                            </div>
                        </div>
                        <div class="flex items-start gap-2">
                            <span class="text-orange-600 font-bold">üéØ</span>
                            <div>
                                <span class="font-semibold">Add tomorrow:</span> Call that friend (you're 1/7 this week, but it adds +10 Soul)
                            </div>
                        </div>
                        <div class="flex items-start gap-2">
                            <span class="text-purple-600 font-bold">üíé</span>
                            <div>
                                <span class="font-semibold">Predicted:</span> If you do all 3 micro-moves, you'll hit 82 fulfillment (your best yet!)
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        `;

        // INTENTION DASHBOARD - NEW SCREEN!
        const IntentionDashboard = () => `
            <div class="p-4">
                <div class="flex justify-between items-center mb-6">
                    <button onclick="navigateTo('home-v2')" class="text-blue-600 font-semibold">‚Üê Back</button>
                    <h2 class="font-bold text-gray-900">Intention Dashboard</h2>
                    <div class="w-16"></div>
                </div>

                <!-- Your Intention -->
                <div class="bg-gradient-to-r from-purple-500 to-purple-700 rounded-2xl p-5 mb-4 text-white">
                    <div class="text-xs font-bold uppercase tracking-wide mb-2 opacity-90">YOUR INTENTION</div>
                    <div class="text-xl font-bold italic mb-4">"${intention.text}"</div>
                    <div class="flex justify-between items-center">
                        <span class="text-sm">Week ${currentWeek} Progress:</span>
                        <span class="text-2xl font-black">${intention.weeklyProgress[`week${currentWeek}`].fulfillment}%</span>
                    </div>
                </div>

                <!-- 4-Week Transformation Graph -->
                <div class="bg-white rounded-2xl p-4 mb-4 shadow-sm">
                    <h3 class="font-bold text-gray-900 mb-4">üìà 4-Week Transformation</h3>
                    
                    <div class="flex justify-between items-end h-40 mb-4">
                        ${[1,2,3,4].map(week => {
                            const data = intention.weeklyProgress[`week${week}`];
                            const height = (data.fulfillment / 82) * 100;
                            return `
                                <div class="flex-1 flex flex-col items-center gap-2">
                                    <div class="text-xs font-bold ${week === currentWeek ? 'text-blue-600' : 'text-gray-600'}">${data.grade}</div>
                                    <div class="w-full flex flex-col items-center justify-end" style="height: 140px;">
                                        <div class="text-sm font-bold mb-1 ${week === currentWeek ? 'text-blue-600' : 'text-gray-700'}">${data.fulfillment}</div>
                                        <div class="w-12 bg-gradient-to-t ${week === currentWeek ? 'from-blue-500 to-purple-500' : 'from-gray-300 to-gray-400'} rounded-t-lg" style="height: ${height}%"></div>
                                    </div>
                                    <div class="text-xs text-gray-500">W${week}</div>
                                </div>
                            `;
                        }).join('')}
                    </div>

                    <div class="grid grid-cols-4 gap-2 text-center text-xs">
                        <div class="text-gray-600">Discovery</div>
                        <div class="text-gray-600">Optimize</div>
                        <div class="text-gray-600">Habits</div>
                        <div class="text-gray-600">Mastery</div>
                    </div>

                    <div class="mt-4 p-3 bg-green-50 rounded-xl">
                        <div class="text-sm font-bold text-green-900">+${intention.weeklyProgress.week4.fulfillment - intention.weeklyProgress.week1.fulfillment}% improvement in 4 weeks! üéâ</div>
                    </div>
                </div>

                <!-- Micro-Move Tracking -->
                <div class="bg-white rounded-2xl p-4 mb-4 shadow-sm">
                    <h3 class="font-bold text-gray-900 mb-4">üéØ Micro-Move Mastery</h3>
                    
                    ${intention.microMoves.map((move, idx) => `
                        <div class="mb-4 ${idx < intention.microMoves.length - 1 ? 'pb-4 border-b border-gray-200' : ''}">
                            <div class="flex justify-between items-center mb-2">
                                <span class="font-semibold text-gray-900">#${idx + 1}: ${move.name}</span>
                                <span class="text-sm font-bold ${move.completed >= 3 ? 'text-green-600' : 'text-orange-600'}">
                                    ${move.completed}/${move.target} days
                                </span>
                            </div>
                            
                            <!-- Visual Calendar -->
                            <div class="flex gap-1 mb-2">
                                ${[...Array(7)].map((_, day) => `
                                    <div class="flex-1 h-8 ${day < move.completed ? 'bg-green-500' : 'bg-gray-200'} rounded ${day < move.completed ? 'text-white' : 'text-gray-500'} text-xs flex items-center justify-center font-bold">
                                        ${['M','T','W','T','F','S','S'][day]}
                                    </div>
                                `).join('')}
                            </div>

                            <div class="bg-gray-50 rounded-lg p-2">
                                <div class="text-xs text-gray-600 mb-1">Impact when you do it:</div>
                                <div class="font-bold text-green-600 text-sm">+${move.impact} ${move.dimension}</div>
                                <div class="text-xs text-gray-600 mt-1">
                                    ${move.completed >= 3 ? '‚úÖ Great consistency! Keep it up!' : '‚ö†Ô∏è Try to increase this next week'}
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>

                <!-- Your Proven Formula -->
                <div class="formula-box mb-20">
                    <div class="text-sm font-bold mb-3">üß¨ YOUR PROVEN PRESENCE FORMULA</div>
                    <div class="bg-white/20 rounded-xl p-4">
                        <div class="text-center">
                            <div class="mb-3">
                                <div class="text-base font-bold">Morning</div>
                                <div class="text-sm">Walk (10 min) + No Phone (1 hr)</div>
                                <div class="text-2xl my-2">‚Üì</div>
                                <div class="text-sm">+18 MindScore</div>
                            </div>
                            
                            <div class="text-xl my-3">+</div>
                            
                            <div class="mb-3">
                                <div class="text-base font-bold">Evening</div>
                                <div class="text-sm">Reading OR Call</div>
                                <div class="text-2xl my-2">‚Üì</div>
                                <div class="text-sm">+10 to +16 boost</div>
                            </div>
                            
                            <div class="text-xl my-3">=</div>
                            
                            <div class="text-2xl font-black">82 AVG FULFILLMENT</div>
                            <div class="text-sm mt-2 opacity-90">= PRESENCE ACHIEVED ‚ú®</div>
                        </div>
                        
                        <div class="mt-4 pt-4 border-t border-white/30 text-xs text-center">
                            Tested: ${currentWeek * 7} days ‚Ä¢ Success: ${Math.round(intention.microMoves[0].completed / (currentWeek * 7) * 100)}%<br/>
                            This is YOUR formula, proven by YOUR data.
                        </div>
                    </div>
                </div>
            </div>
        `;

        // INSIGHTS V2 - CONNECTED TO INTENTION
        const InsightsV2 = () => `
            <div class="p-4">
                <div class="flex justify-between items-center mb-6">
                    <button onclick="navigateTo('home-v2')" class="text-blue-600 font-semibold">‚Üê Back</button>
                    <h2 class="font-bold text-gray-900">Your Path to Presence</h2>
                    <div class="w-16"></div>
                </div>

                <!-- Intention Progress -->
                <div class="bg-purple-100 rounded-2xl p-4 mb-4">
                    <div class="text-xs font-bold text-purple-900 mb-2">üéØ INTENTION PROGRESS</div>
                    <div class="text-lg font-bold text-purple-900 italic mb-3">"${intention.text}"</div>
                    <div class="bg-white rounded-xl p-3">
                        <div class="flex justify-between items-center mb-2">
                            <span class="text-sm font-semibold">Week ${currentWeek}:</span>
                            <span class="text-xl font-black text-purple-600">${intention.weeklyProgress[`week${currentWeek}`].grade}</span>
                        </div>
                        <div class="w-full bg-gray-200 rounded-full h-3">
                            <div class="bg-gradient-to-r from-purple-500 to-purple-700 h-3 rounded-full" style="width: ${intention.weeklyProgress[`week${currentWeek}`].fulfillment}%"></div>
                        </div>
                        <div class="text-xs text-gray-600 mt-2">
                            ${intention.weeklyProgress[`week${currentWeek}`].meaningfulDays}/7 meaningful days this week
                        </div>
                    </div>
                </div>

                <div class="text-sm font-bold text-gray-700 mb-3 px-1">üí° AI has discovered ${currentWeek + 1} patterns helping you:</div>

                <!-- Insight 1: Same-Day -->
                <div class="bg-white rounded-2xl p-4 mb-4 shadow-sm">
                    <div class="flex items-center justify-between mb-3">
                        <span class="text-xs font-bold text-yellow-800 bg-yellow-100 px-2 py-1 rounded-full">‚ö° SAME-DAY ‚Ä¢ HIGH</span>
                        <span class="text-xs bg-green-500 text-white px-2 py-1 rounded-full">‚úì Active</span>
                    </div>
                    
                    <div class="font-bold text-gray-900 mb-2">Morning walks ‚Üí Mental clarity</div>
                    <div class="text-sm text-gray-600 mb-3">+12 MindScore every time you walk</div>
                    
                    <div class="bg-gray-50 rounded-lg p-3 mb-3">
                        <div class="text-xs font-semibold text-gray-700 mb-2">Your Data:</div>
                        <div class="text-sm text-gray-800">
                            ‚Ä¢ With walk: <span class="font-bold text-green-600">72 avg Mind ‚úÖ</span><br/>
                            ‚Ä¢ Without: <span class="text-gray-500">60 avg Mind</span><br/>
                            ‚Ä¢ Difference: <span class="font-bold text-green-600">+12 points</span>
                        </div>
                    </div>

                    <div class="bg-purple-100 rounded-lg p-3 border-2 border-purple-300">
                        <div class="font-semibold text-purple-900 text-sm mb-2">üéØ CONNECTION TO YOUR INTENTION:</div>
                        <div class="text-sm text-purple-800">
                            Walk ‚Üí Clear mind ‚Üí Present with family (not distracted/foggy)
                        </div>
                        <div class="mt-2 pt-2 border-t border-purple-300">
                            <div class="text-xs font-bold text-purple-900">This is your Micro-Move #1!</div>
                            <div class="text-xs text-purple-700">Status: ${intention.microMoves[0].completed}/7 days this week üëè</div>
                        </div>
                    </div>

                    <button class="w-full mt-3 bg-green-500 text-white rounded-lg py-2 text-sm font-bold">
                        ‚úÖ I did this today
                    </button>
                </div>

                <!-- Insight 2: Purpose-Path -->
                <div class="bg-white rounded-2xl p-4 mb-4 shadow-sm">
                    <div class="flex items-center justify-between mb-3">
                        <span class="text-xs font-bold text-purple-800 bg-purple-100 px-2 py-1 rounded-full">üîÆ PURPOSE-PATH ‚Ä¢ HIGH</span>
                        <span class="text-xs bg-yellow-500 text-white px-2 py-1 rounded-full pulsing">‚è≥ 1 more!</span>
                    </div>
                    
                    <div class="font-bold text-gray-900 mb-2">2+ micro-moves ‚Üí Purpose momentum</div>
                    <div class="text-sm text-gray-600 mb-3">+15 PurposeScore when you complete 2+ daily</div>
                    
                    <div class="bg-gray-50 rounded-lg p-3 mb-3">
                        <div class="text-xs font-semibold text-gray-700 mb-2">Your Data:</div>
                        <div class="text-sm text-gray-800">
                            ‚Ä¢ Days with 2+: <span class="font-bold text-green-600">82 avg fulfillment ‚úÖ</span><br/>
                            ‚Ä¢ Days with 0-1: <span class="text-gray-500">54 avg fulfillment</span><br/>
                            ‚Ä¢ Difference: <span class="font-bold text-green-600">+28 points (huge!)</span>
                        </div>
                    </div>

                    <div class="bg-purple-100 rounded-lg p-3 border-2 border-purple-400">
                        <div class="font-semibold text-purple-900 text-sm mb-2">üéØ THIS IS THE KEY INSIGHT:</div>
                        <div class="text-sm text-purple-800 mb-2">
                            Your intention isn't achieved by "being more present" (abstract).
                        </div>
                        <div class="text-sm font-bold text-purple-900 mb-2">
                            It's achieved by doing 2+ of these daily:
                        </div>
                        <div class="bg-white rounded p-2 text-xs">
                            <div>‚Ä¢ Walk ‚îÄ‚îÄ‚îê</div>
                            <div>‚Ä¢ Read ‚îÄ‚îÄ‚îº‚îÄ‚Üí = PRESENCE</div>
                            <div>‚Ä¢ Call ‚îÄ‚îÄ‚îò</div>
                        </div>
                        <div class="mt-2 text-xs text-purple-700">
                            You've proven this for ${currentWeek} weeks.
                        </div>
                    </div>

                    <div class="mt-3 p-2 bg-orange-50 rounded-lg border border-orange-200">
                        <div class="text-xs font-bold text-orange-900">Today: 2/3 done</div>
                        <button class="w-full mt-2 bg-orange-500 text-white rounded-lg py-2 text-sm font-bold">
                            Complete 1 more micro-move! ‚Üí
                        </button>
                    </div>
                </div>

                <!-- Proven Formula Visualization -->
                <div class="formula-box mb-20">
                    <div class="text-sm font-bold mb-4">üß¨ YOUR PROVEN FORMULA</div>
                    <div class="bg-white/20 rounded-xl p-4">
                        <div class="text-left">
                            <div class="mb-3">
                                <div class="font-bold mb-1">Morning Routine:</div>
                                <div class="bg-white/30 rounded p-2 mb-1 text-sm">
                                    üö∂ Walk (10 min) + üìµ No Phone (1 hr)
                                </div>
                                <div class="text-xs">‚Üí +18 MindScore ‚Üí Mental clarity</div>
                            </div>
                            
                            <div class="text-xl text-center my-2">+</div>
                            
                            <div class="mb-3">
                                <div class="font-bold mb-1">Evening Action:</div>
                                <div class="bg-white/30 rounded p-2 mb-1 text-sm">
                                    üìñ Reading OR üìû Call
                                </div>
                                <div class="text-xs">‚Üí +10 to +16 ‚Üí Connection</div>
                            </div>
                            
                            <div class="text-xl text-center my-2">=</div>
                            
                            <div class="bg-white/40 rounded-lg p-3 text-center">
                                <div class="text-3xl font-black">82</div>
                                <div class="text-sm">AVG FULFILLMENT</div>
                                <div class="text-xs mt-1 opacity-90">= PRESENCE ACHIEVED ‚ú®</div>
                            </div>
                        </div>
                        
                        <div class="mt-4 pt-4 border-t border-white/30 text-xs">
                            <div>When you follow this: <span class="font-bold">82 avg</span></div>
                            <div>When you skip: <span class="font-bold">54 avg</span></div>
                            <div class="mt-2 font-bold">The AI didn't invent this - YOU did.</div>
                        </div>
                    </div>
                </div>
            </div>
        `;

        // Navigation
        function navigateTo(screen) {
            currentScreen = screen;
            render();
        }

        function render() {
            const screenElement = document.getElementById('screen');
            
            switch(currentScreen) {
                case 'home-v2':
                    screenElement.innerHTML = HomeScreenV2();
                    break;
                case 'journal-v2':
                    screenElement.innerHTML = JournalV2();
                    break;
                case 'intention-dashboard':
                    screenElement.innerHTML = IntentionDashboard();
                    break;
                case 'insights-v2':
                    screenElement.innerHTML = InsightsV2();
                    break;
                default:
                    screenElement.innerHTML = HomeScreenV2();
            }
        }

        // Initial render
        render();
    </script>
</body>
</html>

